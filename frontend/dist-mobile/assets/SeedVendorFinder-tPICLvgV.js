import{r as o,j as e,B as a,P as v,a0 as l,m as R,ae as M,af as T,ag as $,ah as c,i as d,A as K,n as D,T as s,f as z,h as F,S as i,V,H as x,I as G,ap as H,am as N,ac as Y,aZ as Z}from"./react-vendor-CxfKVgr3.js";import{a as A}from"./App-JmJcCWdD.js";import{B as q}from"./BackHeader-jnSvreF0.js";const y=[{id:"ilgm",name:"ILGM - I Love Growing Marijuana",url:"https://ilgm.com",tagline:"Beginner-friendly, classic strains, strong grow guides.",verified:!0,country:"USA"},{id:"seedsman",name:"Seedsman",url:"https://www.seedsman.com/",tagline:"Huge catalog of breeders and genetics.",verified:!0,country:"UK"},{id:"attitude",name:"Attitude Seed Bank",url:"https://www.cannabis-seeds-bank.co.uk/",tagline:"Global shipping, many European breeders.",verified:!0,country:"UK"},{id:"north-atlantic",name:"North Atlantic Seed Company",url:"https://northatlanticseed.com/",tagline:"US-based, fast shipping, trusted breeders.",verified:!0,country:"USA"},{id:"herbies",name:"Herbies Seeds",url:"https://herbiesheadshop.com/",tagline:"European seed bank with worldwide shipping.",verified:!0,country:"Spain"}];function ee({onBack:U,strainName:f,strainSlug:m}){const[b,g]=o.useState([]),[n,u]=o.useState(!1),[k,p]=o.useState(null),[S,W]=o.useState(f||""),[j,B]=o.useState("all"),[E,C]=o.useState(!1),[P,I]=o.useState(!1),w=o.useCallback(async r=>{u(!0),p(null),C(!1);try{let t=`${A}/api/seeds-live?`;r&&(t+=`strain=${encodeURIComponent(r)}&`),j!=="all"&&(t+=`country=${j}&`),t+="include_google=true";const h=await fetch(t);if(!h.ok)throw new Error("Search failed");const O=await h.json();g(O.results||[])}catch(t){console.error("Seed vendor search failed:",t),p("Failed to find seed vendors. Please try again.")}finally{u(!1)}},[j]),L=o.useCallback(async()=>{u(!0),p(null),C(!0);try{const r=`${A}/api/seeds-live/popular`;console.log("[SeedVendorFinder] Fetching from:",r);const t=await fetch(r);if(console.log("[SeedVendorFinder] Response status:",t.status,t.statusText),!t.ok)throw new Error("Failed to load popular vendors");const h=await t.json();console.log("[SeedVendorFinder] Received vendors:",h?.results?.length||0),g(h.results||[])}catch(r){console.error("[SeedVendorFinder] Failed to load popular vendors:",r),p("Failed to load seed vendors. Please try again.")}finally{u(!1)}},[]);o.useEffect(()=>{g(y),I(!0),u(!1),(f||m)&&w(m||f)},[f,m,w]);const _=()=>{S.trim()?w(S.trim()):L()};return e.jsxs(a,{sx:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#050705",bgcolor:"#0a0f0a",position:"relative"},children:[e.jsx(q,{title:"Seed Vendors",onBack:U}),e.jsxs(a,{sx:{flex:1,minHeight:0,overflowY:"auto",WebkitOverflowScrolling:"touch",px:2,pb:2,pt:1},children:[e.jsx(v,{sx:{p:2,mb:2,background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(124, 179, 66, 0.3)",borderRadius:2},children:e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(R,{fullWidth:!0,size:"small",label:"Strain Name",value:S,onChange:r=>W(r.target.value),placeholder:"e.g., Blue Dream, OG Kush",onKeyPress:r=>r.key==="Enter"&&_(),sx:{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(124, 179, 66, 0.5)"},"&:hover fieldset":{borderColor:"rgba(124, 179, 66, 0.7)"},"&.Mui-focused fieldset":{borderColor:"#7cb342"}},"& .MuiInputLabel-root":{color:"#fff"}}})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsxs(M,{fullWidth:!0,size:"small",children:[e.jsx(T,{sx:{color:"#fff"},children:"Country"}),e.jsxs($,{value:j,onChange:r=>B(r.target.value),label:"Country",sx:{color:"#fff","& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(124, 179, 66, 0.5)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(124, 179, 66, 0.7)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#7cb342"}},children:[e.jsx(c,{value:"all",children:"All Countries"}),e.jsx(c,{value:"USA",children:"USA"}),e.jsx(c,{value:"Canada",children:"Canada"}),e.jsx(c,{value:"Netherlands",children:"Netherlands"}),e.jsx(c,{value:"Spain",children:"Spain"}),e.jsx(c,{value:"UK",children:"UK"})]})]})}),e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(d,{fullWidth:!0,variant:"contained",onClick:_,disabled:n,sx:{bgcolor:"#7cb342","&:hover":{bgcolor:"#689f38"},height:"40px"},children:n?"Searching...":"Search"})})]})}),k&&e.jsx(K,{severity:"error",sx:{mb:2},children:k}),n&&e.jsx(a,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(D,{sx:{color:"#7cb342"}})}),!n&&b.length===0&&!P&&e.jsxs(v,{sx:{p:4,textAlign:"center",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(124, 179, 66, 0.3)",borderRadius:2},children:[e.jsx(s,{variant:"h6",sx:{color:"#fff",mb:2},children:"No seed vendors found"}),e.jsx(s,{variant:"body2",sx:{color:"#e0e0e0",mb:2},children:"Try a different strain or browse trusted seed banks below."}),e.jsx(d,{variant:"outlined",onClick:()=>{g(y),I(!0)},sx:{color:"#fff",borderColor:"rgba(124, 179, 66, 0.6)","&:hover":{borderColor:"#7cb342",bgcolor:"rgba(124, 179, 66, 0.1)"}},children:"View Trusted Seed Banks"})]}),!n&&e.jsxs(a,{children:[e.jsx(s,{variant:"body2",sx:{color:"#e0e0e0",mb:2},children:"Trusted Seed Banks"}),e.jsx(l,{container:!0,spacing:2,children:y.map(r=>e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(z,{sx:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(124, 179, 66, 0.3)",borderRadius:2,height:"100%"},children:e.jsx(F,{children:e.jsxs(i,{spacing:2,children:[e.jsx(i,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:e.jsxs(a,{flex:1,children:[e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,mb:1,children:[e.jsx(s,{variant:"h6",sx:{color:"#fff",fontWeight:600},children:r.name}),r.verified&&e.jsx(V,{sx:{fontSize:20,color:"#7cb342"}})]}),e.jsxs(i,{direction:"row",spacing:1,flexWrap:"wrap",children:[e.jsx(x,{label:"Trusted",size:"small",sx:{bgcolor:"rgba(124, 179, 66, 0.3)",color:"#fff",fontSize:"0.65rem",height:18}}),r.country&&e.jsx(x,{label:r.country,size:"small",sx:{bgcolor:"rgba(255,255,255,0.2)",color:"#fff",fontSize:"0.65rem",height:18}})]})]})}),r.tagline&&e.jsx(s,{variant:"body2",sx:{color:"#e0e0e0"},children:r.tagline}),r.url?e.jsx(d,{fullWidth:!0,variant:"contained",component:"a",href:r.url,target:"_blank",rel:"noopener noreferrer",sx:{bgcolor:"#7cb342","&:hover":{bgcolor:"#689f38"}},children:"Visit Store →"}):e.jsx(d,{fullWidth:!0,variant:"outlined",disabled:!0,sx:{borderColor:"rgba(124, 179, 66, 0.3)",color:"rgba(255,255,255,0.5)"},children:"No URL Available"})]})})})},r.id))})]}),!n&&b.length>0&&e.jsxs(a,{children:[e.jsx(s,{variant:"body2",sx:{color:"#e0e0e0",mb:2},children:E?"Popular Seed Banks":`Found ${b.length} seed vendors`}),e.jsx(l,{container:!0,spacing:2,children:b.map(r=>e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(z,{sx:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(124, 179, 66, 0.3)",borderRadius:2,height:"100%"},children:e.jsx(F,{children:e.jsxs(i,{spacing:2,children:[e.jsxs(i,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[e.jsxs(a,{flex:1,children:[e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,mb:1,children:[e.jsx(s,{variant:"h6",sx:{color:"#fff",fontWeight:600},children:r.name}),r.verified&&e.jsx(V,{sx:{fontSize:20,color:"#7cb342"}})]}),e.jsxs(i,{direction:"row",spacing:1,flexWrap:"wrap",children:[e.jsx(x,{label:r.source,size:"small",sx:{bgcolor:"rgba(255,255,255,0.2)",color:"#fff",fontSize:"0.65rem",height:18}}),r.country&&e.jsx(x,{label:r.country,size:"small",sx:{bgcolor:"rgba(124, 179, 66, 0.3)",color:"#fff",fontSize:"0.65rem",height:18}})]})]}),(r.website||r.product_url)&&e.jsx(G,{size:"small",component:"a",href:r.website||r.product_url,target:"_blank",sx:{color:"#7cb342"},title:"Visit Website",children:e.jsx(H,{})})]}),r.description&&e.jsx(s,{variant:"body2",sx:{color:"#e0e0e0"},children:r.description}),r.price&&e.jsxs(a,{children:[e.jsxs(s,{variant:"h6",sx:{color:"#7cb342",fontWeight:600},children:["$",r.price," ",r.currency||"USD"]}),r.seed_count&&e.jsxs(s,{variant:"caption",sx:{color:"#e0e0e0"},children:[r.seed_count," seeds"]})]}),r.rating>0&&e.jsxs(i,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(N,{sx:{fontSize:16,color:"#ffd600"}}),e.jsxs(s,{variant:"body2",sx:{color:"#fff"},children:[r.rating," ",r.review_count>0&&`(${r.review_count} reviews)`]})]}),r.shipping_regions&&r.shipping_regions.length>0&&e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Y,{sx:{fontSize:16,color:"#7cb342"}}),e.jsxs(s,{variant:"caption",sx:{color:"#e0e0e0"},children:["Ships to: ",r.shipping_regions.join(", ")]})]}),r.payment_methods&&r.payment_methods.length>0&&e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Z,{sx:{fontSize:16,color:"#7cb342"}}),e.jsx(s,{variant:"caption",sx:{color:"#e0e0e0"},children:r.payment_methods.join(", ")})]}),r.in_stock!==void 0&&e.jsx(x,{label:r.in_stock?"In Stock":"Out of Stock",size:"small",sx:{bgcolor:r.in_stock?"rgba(76, 175, 80, 0.3)":"rgba(244, 67, 54, 0.3)",color:"#fff",fontSize:"0.75rem",width:"fit-content"}}),(r.website||r.product_url||r.url)&&e.jsx(d,{fullWidth:!0,variant:"contained",component:"a",href:r.website||r.product_url||r.url,target:"_blank",rel:"noopener noreferrer",sx:{bgcolor:"#7cb342","&:hover":{bgcolor:"#689f38"}},children:"Visit Store →"}),!(r.website||r.product_url||r.url)&&e.jsx(d,{fullWidth:!0,variant:"outlined",disabled:!0,sx:{borderColor:"rgba(124, 179, 66, 0.3)",color:"rgba(255,255,255,0.5)"},children:"No URL Available"})]})})})},r.id))})]})]})]})}export{ee as S};
