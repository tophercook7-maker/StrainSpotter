import{r as g,j as i,S as c,n as x,H as l,_ as d,A as u,i as m}from"./react-vendor-CxfKVgr3.js";import{u as f}from"./useCreditBalance-DnPtH5jr.js";import{u as h}from"./App-JmJcCWdD.js";import"./vendor-DCH4KwNm.js";function I({onBuyCredits:t}){const{user:j}=h(),{remainingScans:a,isUnlimited:s,loading:p}=f?.()??{},n=s,e={creditsRemaining:a,remainingScans:a,isUnlimited:s,unlimited:s},r=g.useMemo(()=>{if(!e)return null;if(n)return"unlimited";const o=e.creditsRemaining??0;return o<=0?"empty":o<=5?"low":"ok"},[e,n]);return p?i.jsxs(c,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[i.jsx(x,{size:16}),i.jsx(l,{size:"small",icon:i.jsx(d,{}),label:"Checking credits…"})]}):e?i.jsxs(c,{spacing:1,sx:{mb:2},children:[i.jsx(l,{icon:i.jsx(d,{}),label:n?"Unlimited scans":`Scans left: ${e.creditsRemaining===1/0||e.creditsRemaining===Number.POSITIVE_INFINITY?"∞":e.creditsRemaining??0}`,color:n?"primary":r==="ok"?"success":r==="low"?"warning":"default",variant:"outlined",onClick:()=>window.location.reload(),sx:n?{background:"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.2) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)"}:void 0}),r==="low"&&!n&&i.jsx(u,{severity:"warning",action:i.jsx(m,{color:"inherit",size:"small",onClick:t,children:"Buy top-up"}),children:"Only a few scans remaining. Top up before your next session."}),r==="empty"&&!n&&i.jsx(u,{severity:"error",action:i.jsx(m,{color:"inherit",size:"small",onClick:t,children:"Add scans"}),children:"You're out of scans. Add a top-up pack or upgrade membership."})]}):null}export{I as default};
